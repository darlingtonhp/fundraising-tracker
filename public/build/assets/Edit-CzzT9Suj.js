import{W as b,j as e,a as p,d as j}from"./app-Bp2RtXpQ.js";import{A as f}from"./AuthenticatedLayout-DuNq7-2H.js";import{T as i,I as o}from"./TextInput-DjZIdFdo.js";import{I as d}from"./InputLabel-CkJUODWM.js";import"./transition-BWKuXZR1.js";function C({auth:c,contribution:s,mitupos:u,contributorTypes:x}){const{data:a,setData:r,put:g,errors:n,processing:m}=b({contributor_name:s.contributor_name||"",mutupo_id:s.mutupo_id||"",contributor_type_id:s.contributor_type_id||"",no_of_tshirts:s.no_of_tshirts||0,no_of_cement_bags:s.no_of_cement_bags||0,cement_amount:s.cement_amount||0}),h=t=>{t.preventDefault(),g(route("contributions.update",s.id))},l=a.no_of_tshirts*7,_=l+(parseFloat(a.cement_amount)||0);return e.jsxs(f,{user:c.user,header:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Edit Contribution - ",s.contributor_name]})}),children:[e.jsx(p,{title:"Edit Contribution"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:h,className:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg",children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(d,{htmlFor:"contributor_name",value:"Contributor Name *"}),e.jsx(i,{id:"contributor_name",type:"text",name:"contributor_name",value:a.contributor_name,className:"mt-1 block w-full",isFocused:!0,onChange:t=>r("contributor_name",t.target.value),placeholder:"Enter contributor's full name"}),e.jsx(o,{message:n.contributor_name,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"mutupo_id",value:"Mutupo/Totem *"}),e.jsxs("select",{id:"mutupo_id",name:"mutupo_id",value:a.mutupo_id,className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",onChange:t=>r("mutupo_id",t.target.value),children:[e.jsx("option",{value:"",children:"Select Mutupo"}),u.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(o,{message:n.mutupo_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"contributor_type_id",value:"Contributor Type *"}),e.jsxs("select",{id:"contributor_type_id",name:"contributor_type_id",value:a.contributor_type_id,className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",onChange:t=>r("contributor_type_id",t.target.value),children:[e.jsx("option",{value:"",children:"Select Type"}),x.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(o,{message:n.contributor_type_id,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"no_of_tshirts",value:"Number of T-Shirts *"}),e.jsx(i,{id:"no_of_tshirts",type:"number",name:"no_of_tshirts",value:a.no_of_tshirts,className:"mt-1 block w-full",min:"0",onChange:t=>r("no_of_tshirts",parseInt(t.target.value)||0)}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Price per T-Shirt: $7"}),a.no_of_tshirts>0&&e.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:["T-Shirt Amount: $",l.toFixed(2)]}),e.jsx(o,{message:n.no_of_tshirts,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"no_of_cement_bags",value:"Number of Cement Bags *"}),e.jsx(i,{id:"no_of_cement_bags",type:"number",name:"no_of_cement_bags",value:a.no_of_cement_bags,className:"mt-1 block w-full",min:"0",onChange:t=>r("no_of_cement_bags",parseInt(t.target.value)||0)}),e.jsx(o,{message:n.no_of_cement_bags,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"cement_amount",value:"Cement Amount ($) *"}),e.jsx(i,{id:"cement_amount",type:"number",name:"cement_amount",value:a.cement_amount,className:"mt-1 block w-full",min:"0",step:"0.01",onChange:t=>r("cement_amount",parseFloat(t.target.value)||0),placeholder:"0.00"}),e.jsx(o,{message:n.cement_amount,className:"mt-2"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"Current Contribution Details"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T-Shirts:"}),e.jsxs("div",{className:"font-medium",children:[s.no_of_tshirts," pcs"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"T-Shirt Amount:"}),e.jsxs("div",{className:"font-medium",children:["$",parseFloat(s.tshirt_amount).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cement Bags:"}),e.jsxs("div",{className:"font-medium",children:[s.no_of_cement_bags," bags"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cement Amount:"}),e.jsxs("div",{className:"font-medium",children:["$",parseFloat(s.cement_amount).toFixed(2)]})]})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Current Total:"}),e.jsxs("span",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:["$",parseFloat(s.total_contributed).toFixed(2)]})]})})]}),(a.no_of_tshirts>0||a.cement_amount>0)&&e.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-green-800 dark:text-green-300",children:"Updated Total Contribution:"}),e.jsxs("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",_.toFixed(2)]})]}),e.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300 mt-2",children:["Breakdown: T-Shirts ($",l.toFixed(2),") + Cement ($",(parseFloat(a.cement_amount)||0).toFixed(2),")"]})]}),e.jsxs("div",{className:"mt-6 text-right",children:[e.jsx(j,{href:route("contributions.index"),className:"bg-gray-100 px-4 py-2 text-gray-800 rounded shadow transition-all hover:bg-gray-200 mr-2 text-sm h-10 inline-flex items-center",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"bg-emerald-500 px-4 py-2 text-white shadow transition-all hover:bg-emerald-600 text-sm h-10 inline-flex items-center disabled:opacity-50",children:m?"Updating...":"Update Contribution"})]})]})})})})]})}export{C as default};
