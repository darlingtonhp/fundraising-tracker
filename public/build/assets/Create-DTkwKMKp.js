import{W as x,j as e,a as g,d as _}from"./app-Bp2RtXpQ.js";import{T as i,I as o}from"./TextInput-DjZIdFdo.js";import{I as n}from"./InputLabel-CkJUODWM.js";import{A as h}from"./AuthenticatedLayout-DuNq7-2H.js";import"./transition-BWKuXZR1.js";function N({auth:m,mitupos:l,contributorTypes:d}){const{data:s,setData:a,post:c,errors:r,reset:b}=x({contributor_name:"",mutupo_id:"",contributor_type_id:"",no_of_tshirts:0,no_of_cement_bags:0,cement_amount:0}),u=t=>{t.preventDefault(),c(route("contributions.store"))};return e.jsxs(h,{user:m.user,header:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Add New Contribution"})}),children:[e.jsx(g,{title:"Add Contribution"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:u,className:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg",children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{htmlFor:"contributor_name",value:"Contributor Name *"}),e.jsx(i,{id:"contributor_name",type:"text",name:"contributor_name",value:s.contributor_name,className:"mt-1 block w-full",isFocused:!0,onChange:t=>a("contributor_name",t.target.value),placeholder:"Enter contributor's full name"}),e.jsx(o,{message:r.contributor_name,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"mutupo_id",value:"Mutupo/Totem *"}),e.jsxs("select",{id:"mutupo_id",name:"mutupo_id",value:s.mutupo_id,className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",onChange:t=>a("mutupo_id",t.target.value),children:[e.jsx("option",{value:"",children:"Select Mutupo"}),l.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(o,{message:r.mutupo_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"contributor_type_id",value:"Contributor Type *"}),e.jsxs("select",{id:"contributor_type_id",name:"contributor_type_id",value:s.contributor_type_id,className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",onChange:t=>a("contributor_type_id",t.target.value),children:[e.jsx("option",{value:"",children:"Select Type"}),d.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(o,{message:r.contributor_type_id,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"no_of_tshirts",value:"Number of T-Shirts *"}),e.jsx(i,{id:"no_of_tshirts",type:"number",name:"no_of_tshirts",value:s.no_of_tshirts,className:"mt-1 block w-full",min:"0",onChange:t=>a("no_of_tshirts",parseInt(t.target.value)||0)}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Price per T-Shirt: $7"}),s.no_of_tshirts>0&&e.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:["T-Shirt Amount: $",(s.no_of_tshirts*7).toFixed(2)]}),e.jsx(o,{message:r.no_of_tshirts,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"no_of_cement_bags",value:"Number of Cement Bags *"}),e.jsx(i,{id:"no_of_cement_bags",type:"number",name:"no_of_cement_bags",value:s.no_of_cement_bags,className:"mt-1 block w-full",min:"0",onChange:t=>a("no_of_cement_bags",parseInt(t.target.value)||0)}),e.jsx(o,{message:r.no_of_cement_bags,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"cement_amount",value:"Cement Amount ($) *"}),e.jsx(i,{id:"cement_amount",type:"number",name:"cement_amount",value:s.cement_amount,className:"mt-1 block w-full",min:"0",step:"0.01",onChange:t=>a("cement_amount",parseFloat(t.target.value)||0),placeholder:"0.00"}),e.jsx(o,{message:r.cement_amount,className:"mt-2"})]})]}),(s.no_of_tshirts>0||s.cement_amount>0)&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Total Contribution:"}),e.jsxs("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",(s.no_of_tshirts*7+(parseFloat(s.cement_amount)||0)).toFixed(2)]})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Breakdown: T-Shirts ($",(s.no_of_tshirts*7).toFixed(2),") + Cement ($",(parseFloat(s.cement_amount)||0).toFixed(2),")"]})]}),e.jsxs("div",{className:"mt-6 text-right",children:[e.jsx(_,{href:route("contributions.index"),className:"bg-gray-100 px-4 py-2 text-gray-800 rounded shadow transition-all hover:bg-gray-200 mr-2 text-sm h-10 inline-flex items-center",children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-emerald-500 px-4 py-2 text-white shadow transition-all hover:bg-emerald-600 text-sm h-10 inline-flex items-center",children:"Save Contribution"})]})]})})})})]})}export{N as default};
